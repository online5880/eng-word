{% load static %}
{% csrf_token %}

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pronunciation Practice</title>
    <link rel="stylesheet" href="{% static 'css/pron_styles.css' %}">
  </head>

  <body>
    <div id="practice-container">
      <h2>발음 연습 모드</h2>
      <p>Current word:
        <span id="current-word">{{ word }}</span>
      </p>

      <div>
        <h3>원어민 발음을 들어볼까요?</h3>
        <!-- 오디오 요소 -->
        <audio id="native-audio-preview" controls="controls">
          <source src="/media/audio/native/eraser_a.wav" type="audio/wav">
          오디오 파일이 지원되지 않는 브라우저입니다.
        </audio>
      </div>

      <!-- 카운트다운 표시 -->
      <div id="countdown"></div>

      <!-- Start/Stop Recording buttons -->
      <button id="startBtn" onclick="startRecording()">녹음 시작</button>
      <button id="stopBtn" onclick="stopRecording()" disabled="disabled">녹음 중지</button>

      <!-- Score display -->
      <div>
        <p>점수:
          <span id="score">0</span>
        </p>
        <div id="score-bar"></div>
      </div>

      <!-- Feedback section -->
      <div id="feedback-section" style="display: none;">
        <p id="feedback"></p>
      </div>

      <!-- Audio preview section (녹음한 음성 미리보기) -->
      <audio id="audio-preview" controls="controls" style="display: none;">
        오디오 파일이 지원되지 않는 브라우저입니다.
      </audio>

      <!-- Navigation buttons -->
      <button onclick="nextWord()">Next Word</button>
      <button onclick="exitPractice()">Exit Practice</button>
    </div>

    <!-- Link to the JS file -->
    <script src="{% static 'js/pron_practice.js' %}"></script>
  </body>

</html>
